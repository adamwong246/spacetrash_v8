{
  "name": "Testing an implementation of a 2d polygon",
  "givens": [
    {
      "key": "test0",
      "name": "Default",
      "whens": [],
      "thens": [
        {
          "name": "area: 0",
          "error": false
        },
        {
          "name": "pointCount: 0",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Empty polygon has zero area"
      ]
    },
    {
      "key": "test1",
      "name": "Rectangle",
      "whens": [
        {
          "name": "setWidth: 4"
        },
        {
          "name": "setHeight: 5"
        }
      ],
      "thens": [
        {
          "name": "getWidth: 4",
          "error": false
        },
        {
          "name": "getHeight: 5",
          "error": false
        },
        {
          "name": "area: 20",
          "error": false
        },
        {
          "name": "AreaPlusCircumference: 38",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Rectangles have width and height"
      ]
    },
    {
      "key": "test2",
      "name": "FromPoints",
      "whens": [],
      "thens": [
        {
          "name": "area: 0.5",
          "error": false
        },
        {
          "name": "pointCount: 3",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Triangle area calculation"
      ]
    },
    {
      "key": "test3",
      "name": "Rectangle",
      "whens": [],
      "thens": [
        {
          "name": "contains: 0.4",
          "error": false
        },
        {
          "name": "contains: 1.1",
          "error": false
        },
        {
          "name": "area: 1",
          "error": false
        },
        {
          "name": "centroid: 0",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Square contains point check"
      ]
    },
    {
      "key": "test4",
      "name": "Rectangle",
      "whens": [
        {
          "name": "translate: 2"
        }
      ],
      "thens": [
        {
          "name": "contains: 2.4",
          "error": {
            "message": "Point SP_2d_Vector(2.4, 3.4) should be contained: expected false to equal true",
            "actual": false,
            "expected": true,
            "showDiff": true,
            "operator": "strictEqual",
            "name": "AssertionError",
            "ok": false,
            "stack": "AssertionError: Point SP_2d_Vector(2.4, 3.4) should be contained: expected false to equal true\n    at Then.thenCB (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/src/demiurge/physics/SP_Polygon.test.mjs?cacheBust=1752218167833:128:14)\n    at file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5177:29\n    at Object.butThen (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/src/demiurge/physics/SP_Polygon.test.mjs?cacheBust=1752218167833:165:12)\n    at Then.butThen (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5468:42)\n    at Then.test (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5172:17)\n    at Given.give (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5103:34)\n    at async Testeranto.constructor.run (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5002:22)\n    at async file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5252:19\n    at async Object.receiveTestResourceConfig (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5280:29)\n    at async PureTesteranto.receiveTestResourceConfig (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5649:12)"
          }
        },
        {
          "name": "contains: 2.6",
          "error": false
        },
        {
          "name": "centroid: 2",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Translated rectangle"
      ]
    },
    {
      "key": "test5",
      "name": "Rectangle",
      "whens": [
        {
          "name": "rotate: 1.5707963267948966"
        }
      ],
      "thens": [
        {
          "name": "contains: 0",
          "error": false
        },
        {
          "name": "contains: 1",
          "error": false
        },
        {
          "name": "contains: 0",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Rotated rectangle"
      ]
    },
    {
      "key": "test6",
      "name": "Rectangle",
      "whens": [],
      "thens": [
        {
          "name": "pointCount: 4",
          "error": false
        },
        {
          "name": "centroid: 0",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Polygon clipping style conversion returns correct points"
      ]
    },
    {
      "key": "test7",
      "name": "Rectangle",
      "whens": [],
      "thens": [
        {
          "name": "AreaPlusCircumference: 18",
          "error": {
            "message": "Expected area+circumference 18 but got 5: expected 5 to be close to 18 +/- 0.000001",
            "actual": 5,
            "showDiff": false,
            "operator": "strictEqual",
            "name": "AssertionError",
            "ok": false,
            "stack": "AssertionError: Expected area+circumference 18 but got 5: expected 5 to be close to 18 +/- 0.000001\n    at Then.thenCB (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/src/demiurge/physics/SP_Polygon.test.mjs?cacheBust=1752218167833:117:14)\n    at file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5177:29\n    at Object.butThen (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/src/demiurge/physics/SP_Polygon.test.mjs?cacheBust=1752218167833:165:12)\n    at Then.butThen (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5468:42)\n    at Then.test (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5172:17)\n    at Given.give (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5103:34)\n    at async Testeranto.constructor.run (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5002:22)\n    at async file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5252:19\n    at async Object.receiveTestResourceConfig (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5280:29)\n    at async PureTesteranto.receiveTestResourceConfig (file:///Users/adam/Code/spacetrash_v8/testeranto/bundles/pure/spacetrash/chunk-42AD3QO4.mjs:5649:12)"
          }
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Circumference calculation"
      ]
    },
    {
      "key": "test8",
      "name": "FromPoints",
      "whens": [],
      "thens": [
        {
          "name": "sharesEdgeWith: SP_2d_Vector(1, 0)",
          "error": false
        }
      ],
      "error": null,
      "failed": {},
      "features": [
        "Polygons sharing an edge"
      ]
    }
  ],
  "checks": [],
  "fails": 9,
  "failed": true,
  "features": [
    "Empty polygon has zero area",
    "Rectangles have width and height",
    "Triangle area calculation",
    "Square contains point check",
    "Translated rectangle",
    "Rotated rectangle",
    "Polygon clipping style conversion returns correct points",
    "Circumference calculation",
    "Polygons sharing an edge"
  ]
}